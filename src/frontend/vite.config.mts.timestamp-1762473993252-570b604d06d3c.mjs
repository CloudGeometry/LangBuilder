// vite.config.mts
import react from "file:///home/nick/LangBuilder/src/frontend/node_modules/@vitejs/plugin-react-swc/index.mjs";
import * as dotenv from "file:///home/nick/LangBuilder/src/frontend/node_modules/dotenv/lib/main.js";
import path from "path";
import { defineConfig, loadEnv } from "file:///home/nick/LangBuilder/src/frontend/node_modules/vite/dist/node/index.js";
import svgr from "file:///home/nick/LangBuilder/src/frontend/node_modules/vite-plugin-svgr/dist/index.js";
import tsconfigPaths from "file:///home/nick/LangBuilder/src/frontend/node_modules/vite-tsconfig-paths/dist/index.mjs";

// src/customization/config-constants.ts
var BASENAME = "";
var PORT = 3e3;
var PROXY_TARGET = "http://localhost:7860";
var API_ROUTES = ["^/api/v1/", "^/api/v2/", "/health"];

// vite.config.mts
var __vite_injected_original_dirname = "/home/nick/LangBuilder/src/frontend";
var vite_config_default = defineConfig(({ mode }) => {
  const env = loadEnv(mode, process.cwd(), "");
  const envLangbuilderResult = dotenv.config({
    path: path.resolve(__vite_injected_original_dirname, "../../.env")
  });
  const envLangbuilder = envLangbuilderResult.parsed || {};
  const apiRoutes = API_ROUTES || ["^/api/v1/", "^/api/v2/", "/health"];
  const target = env.VITE_PROXY_TARGET || PROXY_TARGET || "http://localhost:7860";
  const port = Number(env.VITE_PORT) || PORT || 3e3;
  const proxyTargets = apiRoutes.reduce((proxyObj, route) => {
    proxyObj[route] = {
      target,
      changeOrigin: true,
      secure: false,
      ws: true
    };
    return proxyObj;
  }, {});
  return {
    base: BASENAME || "",
    build: {
      outDir: "build"
    },
    define: {
      "process.env.BACKEND_URL": JSON.stringify(
        envLangbuilder.BACKEND_URL ?? "http://localhost:7860"
      ),
      "process.env.ACCESS_TOKEN_EXPIRE_SECONDS": JSON.stringify(
        envLangbuilder.ACCESS_TOKEN_EXPIRE_SECONDS ?? 60
      ),
      "process.env.CI": JSON.stringify(envLangbuilder.CI ?? false),
      "process.env.LANGBUILDER_AUTO_LOGIN": JSON.stringify(
        envLangbuilder.LANGBUILDER_AUTO_LOGIN ?? true
      ),
      "process.env.LANGBUILDER_FEATURE_MCP_COMPOSER": JSON.stringify(
        envLangbuilder.LANGBUILDER_FEATURE_MCP_COMPOSER ?? "false"
      )
    },
    plugins: [react(), svgr(), tsconfigPaths()],
    server: {
      port,
      proxy: {
        ...proxyTargets
      }
    }
  };
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcubXRzIiwgInNyYy9jdXN0b21pemF0aW9uL2NvbmZpZy1jb25zdGFudHMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvaG9tZS9uaWNrL0xhbmdCdWlsZGVyL3NyYy9mcm9udGVuZFwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL2hvbWUvbmljay9MYW5nQnVpbGRlci9zcmMvZnJvbnRlbmQvdml0ZS5jb25maWcubXRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9ob21lL25pY2svTGFuZ0J1aWxkZXIvc3JjL2Zyb250ZW5kL3ZpdGUuY29uZmlnLm10c1wiO2ltcG9ydCByZWFjdCBmcm9tIFwiQHZpdGVqcy9wbHVnaW4tcmVhY3Qtc3djXCI7XG5pbXBvcnQgKiBhcyBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IGRlZmluZUNvbmZpZywgbG9hZEVudiB9IGZyb20gXCJ2aXRlXCI7XG5pbXBvcnQgc3ZnciBmcm9tIFwidml0ZS1wbHVnaW4tc3ZnclwiO1xuaW1wb3J0IHRzY29uZmlnUGF0aHMgZnJvbSBcInZpdGUtdHNjb25maWctcGF0aHNcIjtcbmltcG9ydCB7XG4gIEFQSV9ST1VURVMsXG4gIEJBU0VOQU1FLFxuICBQT1JULFxuICBQUk9YWV9UQVJHRVQsXG59IGZyb20gXCIuL3NyYy9jdXN0b21pemF0aW9uL2NvbmZpZy1jb25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKCh7IG1vZGUgfSkgPT4ge1xuICBjb25zdCBlbnYgPSBsb2FkRW52KG1vZGUsIHByb2Nlc3MuY3dkKCksIFwiXCIpO1xuXG4gIGNvbnN0IGVudkxhbmdidWlsZGVyUmVzdWx0ID0gZG90ZW52LmNvbmZpZyh7XG4gICAgcGF0aDogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi8uLi8uZW52XCIpLFxuICB9KTtcblxuICBjb25zdCBlbnZMYW5nYnVpbGRlciA9IGVudkxhbmdidWlsZGVyUmVzdWx0LnBhcnNlZCB8fCB7fTtcblxuICBjb25zdCBhcGlSb3V0ZXMgPSBBUElfUk9VVEVTIHx8IFtcIl4vYXBpL3YxL1wiLCBcIl4vYXBpL3YyL1wiLCBcIi9oZWFsdGhcIl07XG5cbiAgY29uc3QgdGFyZ2V0ID1cbiAgICBlbnYuVklURV9QUk9YWV9UQVJHRVQgfHwgUFJPWFlfVEFSR0VUIHx8IFwiaHR0cDovL2xvY2FsaG9zdDo3ODYwXCI7XG5cbiAgY29uc3QgcG9ydCA9IE51bWJlcihlbnYuVklURV9QT1JUKSB8fCBQT1JUIHx8IDMwMDA7XG5cbiAgY29uc3QgcHJveHlUYXJnZXRzID0gYXBpUm91dGVzLnJlZHVjZSgocHJveHlPYmosIHJvdXRlKSA9PiB7XG4gICAgcHJveHlPYmpbcm91dGVdID0ge1xuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBjaGFuZ2VPcmlnaW46IHRydWUsXG4gICAgICBzZWN1cmU6IGZhbHNlLFxuICAgICAgd3M6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gcHJveHlPYmo7XG4gIH0sIHt9KTtcblxuICByZXR1cm4ge1xuICAgIGJhc2U6IEJBU0VOQU1FIHx8IFwiXCIsXG4gICAgYnVpbGQ6IHtcbiAgICAgIG91dERpcjogXCJidWlsZFwiLFxuICAgIH0sXG4gICAgZGVmaW5lOiB7XG4gICAgICBcInByb2Nlc3MuZW52LkJBQ0tFTkRfVVJMXCI6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBlbnZMYW5nYnVpbGRlci5CQUNLRU5EX1VSTCA/PyBcImh0dHA6Ly9sb2NhbGhvc3Q6Nzg2MFwiLFxuICAgICAgKSxcbiAgICAgIFwicHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX0VYUElSRV9TRUNPTkRTXCI6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBlbnZMYW5nYnVpbGRlci5BQ0NFU1NfVE9LRU5fRVhQSVJFX1NFQ09ORFMgPz8gNjAsXG4gICAgICApLFxuICAgICAgXCJwcm9jZXNzLmVudi5DSVwiOiBKU09OLnN0cmluZ2lmeShlbnZMYW5nYnVpbGRlci5DSSA/PyBmYWxzZSksXG4gICAgICBcInByb2Nlc3MuZW52LkxBTkdCVUlMREVSX0FVVE9fTE9HSU5cIjogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIGVudkxhbmdidWlsZGVyLkxBTkdCVUlMREVSX0FVVE9fTE9HSU4gPz8gdHJ1ZSxcbiAgICAgICksXG4gICAgICBcInByb2Nlc3MuZW52LkxBTkdCVUlMREVSX0ZFQVRVUkVfTUNQX0NPTVBPU0VSXCI6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBlbnZMYW5nYnVpbGRlci5MQU5HQlVJTERFUl9GRUFUVVJFX01DUF9DT01QT1NFUiA/PyBcImZhbHNlXCIsXG4gICAgICApLFxuICAgIH0sXG4gICAgcGx1Z2luczogW3JlYWN0KCksIHN2Z3IoKSwgdHNjb25maWdQYXRocygpXSxcbiAgICBzZXJ2ZXI6IHtcbiAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICBwcm94eToge1xuICAgICAgICAuLi5wcm94eVRhcmdldHMsXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG59KTtcbiIsICJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiL2hvbWUvbmljay9MYW5nQnVpbGRlci9zcmMvZnJvbnRlbmQvc3JjL2N1c3RvbWl6YXRpb25cIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9ob21lL25pY2svTGFuZ0J1aWxkZXIvc3JjL2Zyb250ZW5kL3NyYy9jdXN0b21pemF0aW9uL2NvbmZpZy1jb25zdGFudHMudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL2hvbWUvbmljay9MYW5nQnVpbGRlci9zcmMvZnJvbnRlbmQvc3JjL2N1c3RvbWl6YXRpb24vY29uZmlnLWNvbnN0YW50cy50c1wiO2V4cG9ydCBjb25zdCBCQVNFTkFNRSA9IFwiXCI7XG5leHBvcnQgY29uc3QgUE9SVCA9IDMwMDA7XG5leHBvcnQgY29uc3QgUFJPWFlfVEFSR0VUID0gXCJodHRwOi8vbG9jYWxob3N0Ojc4NjBcIjtcbmV4cG9ydCBjb25zdCBBUElfUk9VVEVTID0gW1wiXi9hcGkvdjEvXCIsIFwiXi9hcGkvdjIvXCIsIFwiL2hlYWx0aFwiXTtcbmV4cG9ydCBjb25zdCBCQVNFX1VSTF9BUEkgPSBcIi9hcGkvdjEvXCI7XG5leHBvcnQgY29uc3QgQkFTRV9VUkxfQVBJX1YyID0gXCIvYXBpL3YyL1wiO1xuZXhwb3J0IGNvbnN0IEhFQUxUSF9DSEVDS19VUkwgPSBcIi9oZWFsdGhfY2hlY2tcIjtcbmV4cG9ydCBjb25zdCBET0NTX0xJTksgPSBcImh0dHBzOi8vZG9jcy5sYW5nYnVpbGRlci5vcmdcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBET0NTX0xJTkssXG4gIEJBU0VOQU1FLFxuICBQT1JULFxuICBQUk9YWV9UQVJHRVQsXG4gIEFQSV9ST1VURVMsXG4gIEJBU0VfVVJMX0FQSSxcbiAgQkFTRV9VUkxfQVBJX1YyLFxuICBIRUFMVEhfQ0hFQ0tfVVJMLFxufTtcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBNlIsT0FBTyxXQUFXO0FBQy9TLFlBQVksWUFBWTtBQUN4QixPQUFPLFVBQVU7QUFDakIsU0FBUyxjQUFjLGVBQWU7QUFDdEMsT0FBTyxVQUFVO0FBQ2pCLE9BQU8sbUJBQW1COzs7QUNMd1UsSUFBTSxXQUFXO0FBQzVXLElBQU0sT0FBTztBQUNiLElBQU0sZUFBZTtBQUNyQixJQUFNLGFBQWEsQ0FBQyxhQUFhLGFBQWEsU0FBUzs7O0FESDlELElBQU0sbUNBQW1DO0FBYXpDLElBQU8sc0JBQVEsYUFBYSxDQUFDLEVBQUUsS0FBSyxNQUFNO0FBQ3hDLFFBQU0sTUFBTSxRQUFRLE1BQU0sUUFBUSxJQUFJLEdBQUcsRUFBRTtBQUUzQyxRQUFNLHVCQUE4QixjQUFPO0FBQUEsSUFDekMsTUFBTSxLQUFLLFFBQVEsa0NBQVcsWUFBWTtBQUFBLEVBQzVDLENBQUM7QUFFRCxRQUFNLGlCQUFpQixxQkFBcUIsVUFBVSxDQUFDO0FBRXZELFFBQU0sWUFBWSxjQUFjLENBQUMsYUFBYSxhQUFhLFNBQVM7QUFFcEUsUUFBTSxTQUNKLElBQUkscUJBQXFCLGdCQUFnQjtBQUUzQyxRQUFNLE9BQU8sT0FBTyxJQUFJLFNBQVMsS0FBSyxRQUFRO0FBRTlDLFFBQU0sZUFBZSxVQUFVLE9BQU8sQ0FBQyxVQUFVLFVBQVU7QUFDekQsYUFBUyxLQUFLLElBQUk7QUFBQSxNQUNoQjtBQUFBLE1BQ0EsY0FBYztBQUFBLE1BQ2QsUUFBUTtBQUFBLE1BQ1IsSUFBSTtBQUFBLElBQ047QUFDQSxXQUFPO0FBQUEsRUFDVCxHQUFHLENBQUMsQ0FBQztBQUVMLFNBQU87QUFBQSxJQUNMLE1BQU0sWUFBWTtBQUFBLElBQ2xCLE9BQU87QUFBQSxNQUNMLFFBQVE7QUFBQSxJQUNWO0FBQUEsSUFDQSxRQUFRO0FBQUEsTUFDTiwyQkFBMkIsS0FBSztBQUFBLFFBQzlCLGVBQWUsZUFBZTtBQUFBLE1BQ2hDO0FBQUEsTUFDQSwyQ0FBMkMsS0FBSztBQUFBLFFBQzlDLGVBQWUsK0JBQStCO0FBQUEsTUFDaEQ7QUFBQSxNQUNBLGtCQUFrQixLQUFLLFVBQVUsZUFBZSxNQUFNLEtBQUs7QUFBQSxNQUMzRCxzQ0FBc0MsS0FBSztBQUFBLFFBQ3pDLGVBQWUsMEJBQTBCO0FBQUEsTUFDM0M7QUFBQSxNQUNBLGdEQUFnRCxLQUFLO0FBQUEsUUFDbkQsZUFBZSxvQ0FBb0M7QUFBQSxNQUNyRDtBQUFBLElBQ0Y7QUFBQSxJQUNBLFNBQVMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxHQUFHLGNBQWMsQ0FBQztBQUFBLElBQzFDLFFBQVE7QUFBQSxNQUNOO0FBQUEsTUFDQSxPQUFPO0FBQUEsUUFDTCxHQUFHO0FBQUEsTUFDTDtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFtdCn0K
